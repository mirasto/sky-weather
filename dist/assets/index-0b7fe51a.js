import{u as f,b as m,s as j,d as g,q as c,j as a,P as u,m as i,C as d,B as b,h as r,g as N,D as v,E as _}from"./index-bdeae445.js";import{H as D,D as w}from"./PrecipitationMap-e35a345d.js";import{T as k}from"./trending-up-d2fadc12.js";import"./calendar-59d22815.js";function W(){const{t:x}=f(),l=m(j),n=m(g),[e,p]=c.useState(null),[y,o]=c.useState(!0);if(c.useEffect(()=>{(async()=>{o(!0);try{const t=await _(l.lat,l.lng);p(t)}catch(t){console.error("Error loading forecast:",t)}finally{o(!1)}})()},[l.lat,l.lng]),y)return a.jsx(u,{});const h=s=>new Date(s).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"});return a.jsxs(i.main,{initial:{opacity:0},animate:{opacity:1},className:"container mx-auto px-4 py-6",children:[a.jsxs(i.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:x("forecast.daily")}),a.jsxs("p",{className:"text-slate-500 dark:text-slate-400",children:["Weather forecast for ",n.city,", ",n.country]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx(i.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"lg:col-span-3",children:a.jsx(D,{})}),a.jsx(i.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:"lg:col-span-2",children:a.jsx(w,{})}),a.jsxs(i.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},className:"space-y-4",children:[a.jsxs(d,{children:[a.jsx(b,{title:"Weekly Overview",icon:a.jsx(k,{className:"w-4 h-4"})}),e&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-500 mb-2",children:"Temperature Range"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-2xl font-bold text-blue-500",children:[r(Math.min(...e.daily.temperature_2m_min.slice(0,7)),"metric",!1),"Â°"]}),a.jsx("div",{className:"flex-1 h-2 mx-4 rounded-full bg-gradient-to-r from-blue-400 via-green-400 to-orange-400"}),a.jsxs("span",{className:"text-2xl font-bold text-orange-500",children:[r(Math.max(...e.daily.temperature_2m_max.slice(0,7)),"metric",!1),"Â°"]})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-500 mb-2",children:"Rainy Days This Week"}),a.jsx("div",{className:"flex gap-1",children:e.daily.time.slice(0,7).map((s,t)=>a.jsx("div",{className:N("flex-1 h-8 rounded-lg flex items-center justify-center text-xs",e.daily.precipitation_probability_max[t]>30?"bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400":"bg-slate-100 dark:bg-slate-800"),children:e.daily.precipitation_probability_max[t]>30?"ðŸ’§":"â˜€"},s))})]})]})]}),e&&e.daily.time.slice(7,10).map((s,t)=>a.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4+t*.1},children:a.jsxs(d,{className:"flex items-center gap-4",children:[a.jsx("img",{src:`https://openweathermap.org/img/wn/${v(e.daily.weathercode[7+t])}@2x.png`,alt:"Weather",className:"w-14 h-14"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-semibold",children:h(s)}),a.jsx("p",{className:"text-sm text-slate-500 capitalize",children:e.daily.precipitation_probability_max[7+t]>30?"Chance of rain":"Clear"})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-lg font-bold",children:[r(e.daily.temperature_2m_max[7+t],"metric",!1),"Â°"]}),a.jsxs("p",{className:"text-sm text-slate-400",children:[r(e.daily.temperature_2m_min[7+t],"metric",!1),"Â°"]})]})]})},s))]})]})]})}export{W as ForecastPage,W as default};
