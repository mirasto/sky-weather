import{u as f,b as d,s as g,d as j,q as n,j as a,P as u,m as l,C as x,B as b,h as c,g as N,D as v,E as _,F as D}from"./index-37de8fcc.js";import{H as w,D as k}from"./DailyForecast-e1cf02af.js";import{T as C}from"./trending-up-14917bba.js";import"./calendar-80ef8c39.js";function S(){const{t:s}=f(),r=d(g),o=d(j),[e,p]=n.useState(null),[y,m]=n.useState(!0);if(n.useEffect(()=>{(async()=>{m(!0);try{const t=await _(r.lat,r.lng);p(t)}catch(t){console.error("Error loading forecast:",t)}finally{m(!1)}})()},[r.lat,r.lng]),y)return a.jsx(u,{});const h=i=>new Date(i).toLocaleDateString(D.language,{weekday:"short",month:"short",day:"numeric"});return a.jsxs(l.main,{initial:{opacity:0},animate:{opacity:1},className:"container mx-auto px-4 py-6",children:[a.jsxs(l.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:s("forecast.daily")}),a.jsxs("p",{className:"text-slate-500 dark:text-slate-400",children:[s("forecast.title")," ",o.city,", ",o.country]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx(l.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"lg:col-span-3",children:a.jsx(w,{})}),a.jsx(l.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:"lg:col-span-2",children:a.jsx(k,{})}),a.jsxs(l.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},className:"space-y-4",children:[a.jsxs(x,{children:[a.jsx(b,{title:s("forecast.weeklyOverview"),icon:a.jsx(C,{className:"w-4 h-4"})}),e&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-500 mb-2",children:s("forecast.tempRange")}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-2xl font-bold text-blue-500",children:[c(Math.min(...e.daily.temperature_2m_min.slice(0,7)),"metric",!1),"Â°"]}),a.jsx("div",{className:"flex-1 h-2 mx-4 rounded-full bg-gradient-to-r from-blue-400 via-green-400 to-orange-400"}),a.jsxs("span",{className:"text-2xl font-bold text-orange-500",children:[c(Math.max(...e.daily.temperature_2m_max.slice(0,7)),"metric",!1),"Â°"]})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-500 mb-2",children:s("forecast.rainyDays")}),a.jsx("div",{className:"flex gap-1",children:e.daily.time.slice(0,7).map((i,t)=>a.jsx("div",{className:N("flex-1 h-8 rounded-lg flex items-center justify-center text-xs",e.daily.precipitation_probability_max[t]>30?"bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400":"bg-slate-100 dark:bg-slate-800"),children:e.daily.precipitation_probability_max[t]>30?"ðŸ’§":"â˜€"},i))})]})]})]}),e&&e.daily.time.slice(7,10).map((i,t)=>a.jsx(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4+t*.1},children:a.jsxs(x,{className:"flex items-center gap-4",children:[a.jsx("img",{src:`https://openweathermap.org/img/wn/${v(e.daily.weathercode[7+t])}@2x.png`,alt:"Weather",className:"w-14 h-14"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-semibold",children:h(i)}),a.jsx("p",{className:"text-sm text-slate-500 capitalize",children:e.daily.precipitation_probability_max[7+t]>30?s("forecast.chanceRain"):s("forecast.clear")})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-lg font-bold",children:[c(e.daily.temperature_2m_max[7+t],"metric",!1),"Â°"]}),a.jsxs("p",{className:"text-sm text-slate-400",children:[c(e.daily.temperature_2m_min[7+t],"metric",!1),"Â°"]})]})]})},i))]})]})]})}export{S as ForecastPage,S as default};
